<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>我的信息 - Express</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}" href="../../static/assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" th:href="@{/assets/css/express.css}" href="../../static/assets/css/express.css"/>
</head>
<body>
    <div class="container-fluid">
        <!-- 头部 -->
        <nav th:replace="/user/module/nav::html"></nav>
        <!-- 主体 -->
        <div class="row">
            <!-- 左侧菜单 -->
            <div th:replace="/user/module/sidebar::html"></div>
            <!-- 主体内容 -->
            <div class="col-md-10">
                <div id="baseInfo">
                    <h4>基础信息</h4>
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="role" class="col-md-2 control-label">用户权限</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="role" th:text="${info.roleName}"></p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="username" class="col-md-2 control-label">用户名</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="username"
                                   th:style="${info.username == null ? 'color:gray' : ''}"
                                   th:text="${info.username != null ? info.username : '您未申请用户名，申请后可以使用用户名密码登陆'}"></p>
                                <button type="button" class="btn btn-default col-md-3" th:if="${info.username != null}" onclick="showModel(1)">修改密码</button>
                                <button type="button" class="btn btn-danger col-md-3" th:if="${info.username == null}" onclick="showModel(2)">立即申请</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="tel" class="col-md-2 control-label">手机号码</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="tel"
                                   th:style="${info.tel == null ? 'color:gray' : ''}"
                                   th:text="${info.tel != null ? info.tel : '您未绑定手机号，设置后可以使用手机号登陆，以及使用找回密码功能'}"></p>
                                <button type="button" class="btn btn-default col-md-3" th:if="${info.tel != null}" onclick="showModel(3)">更改绑定</button>
                                <button type="button" class="btn btn-danger col-md-3" th:if="${info.tel == null}" onclick="showModel(3)">立即绑定</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sex" class="col-md-2 control-label">性别</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="sex" th:text="${info.sex == 1 ? '男' : '女'}"></p>
                            </div>
                        </div>
                    </form>
                </div><hr>
                <div id="schoolInfo">
                    <h4>学校信息</h4>
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="school" class="col-md-2 control-label">学校</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="school"
                                   th:style="${info.school == null ? 'color:gray' : ''}"
                                   th:text="${info.school != null ? info.school : '未设置'}"></p>
                                <button type="button" class="btn btn-default col-md-3" th:if="${info.school != null}" onclick="showModel(4)">更改绑定</button>
                                <button type="button" class="btn btn-danger col-md-3" th:if="${info.school == null}" onclick="showModel(4)">立即绑定</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="studentIdCard" class="col-md-2 control-label">学号</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="studentIdCard"
                                   th:style="${info.studentIdCard == null ? 'color:gray' : ''}"
                                   th:text="${info.studentIdCard != null ? info.studentIdCard : '未设置'}"></p>
                            </div>
                        </div>
                    </form>
                </div><hr>
                <div id="idCardInfo">
                    <h4>实名信息</h4>
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="realName" class="col-md-2 control-label">姓名</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="realName"
                                   th:style="${info.realName == null ? 'color:gray' : ''}"
                                   th:text="${info.realName != null ? info.realName : '未实名，实名后将能够申请配送员'}"></p>
                                <button type="button" class="btn btn-danger col-md-3" th:if="${info.realName == null}" onclick="showModel(5)">实名认证</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="idCard" class="col-md-2 control-label">身份证号</label>
                            <div class="col-md-10">
                                <p class="form-control-static col-md-7" id="idCard"
                                   th:style="${info.idCard == null ? 'color:gray' : ''}"
                                   th:text="${info.idCard != null ? info.idCard : '未填写'}"></p>
                            </div>
                        </div>
                    </form>
                </div><hr>
                <!-- 角色切换 -->
                <div class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4>切换配送员</h4>
                    <p>成为配送员后您将可以接单，并且进行快递配送，与此同时您将丧失下单的权利。请确保已经完成实名认证，且不存在未完成的订单。</p>
                    <p>
                        <button type="button" onclick="changeRole()" id="changeRoleBtn" th:class="${info.canChangeRole == '0' ? 'disabled btn btn-danger' : 'btn btn-danger'}">立即切换</button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- 修改密码模态框 -->
    <div class="modal fade" id="restPasswordModel" tabindex="-1" role="dialog" aria-labelledby="restPasswordModelLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="confirmModelLabel">修改密码</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="resetPasswordForm">
                        <div class="form-group">
                            <label for="inputOldPassword" class="col-md-2 control-label">原始密码</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputOldPassword" name="origin">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputNewPassword" class="col-md-2 control-label">新密码</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputNewPassword" name="target">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputNewPassword1" class="col-md-2 control-label">确认密码</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputNewPassword1" name="target1">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="submitForm(1)">修改密码</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 申请用户名 -->
    <div class="modal fade" id="applyUsernameModel" tabindex="-1" role="dialog" aria-labelledby="applyUsernameModelLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="applyUsernameModelLabel">申请用户名</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="applyUsernameForm">
                        <div class="form-group">
                            <label for="inputUsername" class="col-md-2 control-label">用户名</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputUsername" name="username">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputPassword" class="col-md-2 control-label">密码</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputPassword" name="password">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputPassword1" class="col-md-2 control-label">重复密码</label>
                            <div class="col-md-10">
                                <input type="password" class="form-control" id="inputPassword1" name="password1">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="submitForm(2)">立即申请</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 设置手机号 -->
    <div class="modal fade" id="setTelModel" tabindex="-1" role="dialog" aria-labelledby="setTelModelLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="setTelModelLabel">设置手机号</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="setTelForm">
                        <div class="form-group">
                            <label for="inputTel" class="col-md-2 control-label">手机号码</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="inputTel" name="tel">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="telCode" class="col-md-2 control-label">验证码</label>
                            <div class="col-md-10">
                                <div class="row" >
                                    <div class="col-md-6 col-sm-12 col-lg-6 col-xs-12 " >
                                        <input type="text" class="form-control" id="telCode" name="code" placeholder="请输入验证码">
                                    </div>
                                    <div class="col-md-6 col-sm-12 col-lg-6 col-xs-12 telCode">
                                        <button type="button" class="btn btn-info btn-block" id="getTelCode" >获取验证码</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="submitForm(3)">立即设置</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 设置学校信息 -->
    <div class="modal fade" id="setSchoolModel" tabindex="-1" role="dialog" aria-labelledby="setSchoolModelLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="setSchoolModelLabel">设置学校信息</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="setSchoolForm">
                        <div class="form-group">
                            <label for="inputSchool" class="col-md-2 control-label">学校</label>
                            <div class="col-md-4">
                                <select id="inputProvince" class="form-control">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                            <div class="col-md-5">
                                <select id="inputSchool" name="school" class="form-control">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputStudentIdCard" class="col-md-2 control-label">学号</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="inputStudentIdCard" name="studentIdCard">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="submitForm(4)">提交设置</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 实名信息 -->
    <div class="modal fade" id="applyRealNameModel" tabindex="-1" role="dialog" aria-labelledby="applyRealNameModelLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="applyRealNameModelLabel">实名认证</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="applyRealNameForm">
                        <div class="form-group">
                            <label for="inputRealName" class="col-md-2 control-label">姓名</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="inputRealName" name="realName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputIdCard" class="col-md-2 control-label">身份证号</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="inputIdCard" name="idCard">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="submitForm(5)">立即认证</button>
                </div>
            </div>
        </div>
    </div>

<script th:src="@{/assets/js/http.js}" src="../../static/assets/js/http.js"></script>
<script th:src="@{/assets/js/express.js}" src="../../static/assets/js/express.js"></script>
<script th:src="@{/assets/js/jquery.min.js}" src="../../static/assets/js/jquery.min.js"></script>
<script th:src="@{/assets/js/jquery.validate.min.js}" src="../../static/assets/js/jquery.validate.min.js"></script>
<script th:src="@{/assets/layer/layer.js}" src="../../static/assets/layer/layer.js"></script>
<script th:src="@{/assets/js/bootstrap.min.js}" src="../../static/assets/js/bootstrap.min.js"></script>
<script>
    $(function () {
        $("#info-sidebar").addClass('active');

        // 加载省份数据
        sendJson(HTTP.GET, "/api/v1/public/area/0/child", null, false, function (res) {
            if (res.code === 0) {
                let html = '', data = res.data;
                for(let i = 0; i<data.length; i++) {
                    html += '<option value="'+data[i].id+'">'+data[i].name+'</option>\n';
                }
                $("#inputProvince").html(html);

                // 加载高校数据
                sendJson(HTTP.GET, "/api/v1/public/school/province/" + data[0].id, null, false, function (res) {
                    if (res.code === 0) {
                        let html = '', data = res.data;
                        for(let i = 0; i<data.length; i++) {
                            html += '<option value="'+data[i].id+'">'+data[i].name+'</option>\n';
                        }
                        $("#inputSchool").html(html);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });

            } else {
                layer.msg(res.msg, {icon: 2});
            }
        }, function () {
            layer.msg("未知错误", {icon: 2});
        });
    });

    let send = document.getElementById("getTelCode");
    let times=60;
    let timer=null;
    //添加cookie
    function addCookie(name,value,expiresHours){
        var cookieString=name+"="+escape(value);
        //判断是否设置过期时间,0代表关闭浏览器时失效
        if(expiresHours>0){
            var date=new Date();
            date.setTime(date.getTime()+expiresHours*1000);
            cookieString=cookieString+";expires=" + date.toUTCString();
        }
        document.cookie=cookieString;
    }
    //修改cookie的值
    function editCookie(name,value,expiresHours){
        var cookieString=name+"="+escape(value);
        if(expiresHours>0){
            var date=new Date();
            date.setTime(date.getTime()+expiresHours*1000); //单位是毫秒
            cookieString=cookieString+";expires=" + date.toGMTString();
        }
        document.cookie=cookieString;
    }
    //根据名字获取cookie的值
    function getCookieValue(name){
        var strCookie=document.cookie;
        var arrCookie=strCookie.split("; ");
        for(var i=0;i<arrCookie.length;i++){
            var arr=arrCookie[i].split("=");
            if(arr[0]==name){
                return unescape(arr[1]);
                break;
            }else{
                return "";
                break;
            }
        }
    }

    $(function(){
        $("#getTelCode").click(function (){
            sendCode($("#getTelCode"));
        });
        v = getCookieValue("userInfoCookie");//获取cookie值
        if(v>0){
            settime($("#getTelCode"));//开始倒计时
        }
    });
    //送验证码
    function sendCode(obj){
        let phonenum = $("#inputTel").val();
        console.log(phonenum);
        // let result = isPhoneNum();
        if(!isPoneAvailable(phonenum)) {
            layer.msg("手机号码不合法", {icon: 7});
            return false;
        }
        sendJson(HTTP.GET, '/auth/code/sms?mobile=' + phonenum, null, false, function (res) {
                if (res.code === 0) {
                    layer.msg("短信发送成功", {icon: 1});
                    addCookie("userInfoCookie",60,60);//添加cookie记录,有效时间60s
                    settime(obj);//开始倒计
                } else {
                    layer.msg(res.msg, {icon: 2});
                }
            },
            function () {
                layer.msg("未知错误", {icon: 2});
            });

    }

    //开始倒计时
    let countdown;
    function settime(obj) {
        countdown=getCookieValue("userInfoCookie");
        if (countdown == 0) {
            obj.removeAttr("disabled");
            document.getElementById("getTelCode").innerText = '重新获取验证码';
            return;
        } else {
            obj.attr("disabled", true);
            document.getElementById("getTelCode").innerText = countdown + 's之后重新发送';
            // obj.val("重新发送(" + countdown + ")");
            countdown--;
            editCookie("userInfoCookie",countdown,countdown+1);
        }
        setTimeout(function() { settime(obj) },1000) //每1000毫秒执行一次
    }
    
    function showModel(type) {
        switch (type) {
            case 1:
                $("#restPasswordModel").modal('show');
                return;
            case 2:
                $("#applyUsernameModel").modal('show');
                return;
            case 3:
                $("#setTelModel").modal('show');
                return;
            case 4:
                $("#setSchoolModel").modal('show');
                return;
            case 5:
                $("#applyRealNameModel").modal('show');
                return;
        }
    }
    function closeModel(type) {
        switch (type) {
            case 1:
                $("#restPasswordModel").modal('hide');
                return;
            case 2:
                $("#applyUsernameModel").modal('hide');
                return;
            case 3:
                $("#setTelModel").modal('hide');
                return;
            case 4:
                $("#setSchoolModel").modal('hide');
                return;
            case 5:
                $("#applyRealNameModel").modal('hide');
                return;
        }
    }
    function submitForm(type) {
        switch (type) {
            case 1:
                $("#resetPasswordForm").submit();
                return;
            case 2:
                $("#applyUsernameForm").submit();
                return;
            case 3:
                $("#setTelForm").submit();
                return;
            case 4:
                $("#setSchoolForm").submit();
                return;
            case 5:
                $("#applyRealNameForm").submit();
                return;
        }
    }

    function changeRole() {
        if($("#changeRoleBtn").hasClass("disabled")) {
            return false;
        }

        let msg = '此操作具有一定危险性，即将校验密码，如未设置密码，请先设置密码。';
        layer.confirm(msg, {
            btn: ['确定','取消']
        }, function(){
            layer.prompt({title:"输入密码", formType:1},function(val, index) {
                // 校验密码
                sendJson(HTTP.POST, "/api/v1/setting/check-password", {"password": val}, false, function (res) {
                    if (res.code === 0) {
                        layer.close(index);
                        // 修改密码
                        sendJson(HTTP.POST, "/api/v1/setting/apply-role", {"password": val}, false, function (res) {
                            if (res.code === 0) {
                                layer.msg("切换成功，即将重新登录！", {icon: 1});
                                setTimeout("new function(){window.location.href='/logout'}","3000");
                            } else {
                                layer.msg(res.msg, {icon: 2});
                            }
                        }, function () {
                            layer.msg("未知错误", {icon: 2});
                        });
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            });
        }, function(){
        });
    }

    $("#inputProvince").change(function () {
        // 加载高校数据
        let id = $("#inputProvince").val();
        sendJson(HTTP.GET, "/api/v1/public/school/province/" + id, null, false, function (res) {
            if (res.code === 0) {
                let html = '', data = res.data;
                for(let i = 0; i<data.length; i++) {
                    html += '<option value="'+data[i].id+'">'+data[i].name+'</option>\n';
                }
                $("#inputSchool").html(html);
            } else {
                layer.msg(res.msg, {icon: 2});
            }
        }, function () {
            layer.msg("未知错误", {icon: 2});
        });
    });

    $().ready(function() {
        $("#resetPasswordForm").validate({
            rules: {
                origin: {
                    required: true
                },
                target: {
                    required: true,
                    equalTo: "#inputNewPassword1"
                },
                target1: {
                    required: true,
                    equalTo: "#inputNewPassword"
                }
            },
            messages: {
                origin: {
                    required:"原始密码不能为空"
                },
                target: {
                    required: "新密码不能为空",
                    equalTo: "两次密码输入不一致"
                },
                target1: {
                    required: "新密码不能为空",
                    equalTo: "两次密码输入不一致"
                }
            },
            submitHandler: function (form) {
                sendJson(HTTP.POST, "/api/v1/setting/password", $("#resetPasswordForm").serialize() , false, function (res) {
                    if (res.code === 0) {
                        layer.msg("密码修改成功，请重新登录", {icon: 1});
                        setTimeout("new function(){window.location.href='/logout'}","3000");
                        closeModel(1);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            }
        });

        $("#applyUsernameModel").validate({
            rules: {
                username: {
                    required: true
                },
                password: {
                    required: true,
                    equalTo: "#inputPassword1"
                },
                password1: {
                    required: true,
                    equalTo: "#inputPassword"
                }
            },
            messages: {
                username: {
                    required:"原始密码不能为空"
                },
                password: {
                    required: "密码不能为空",
                    equalTo: "两次密码输入不一致"
                },
                password1: {
                    required: "密码不能为空",
                    equalTo: "两次密码输入不一致"
                }
            },
            submitHandler: function (form) {
                sendJson(HTTP.POST, "/api/v1/setting/username", $("#applyUsernameModel").serialize(), false, function (res) {
                    if (res.code === 0) {
                        layer.msg("申请成功，支持使用用户名密码方式登录", {icon: 1});
                        closeModel(2);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            }
        });

        $("#setTelForm").validate({
            rules: {
                tel: {
                    required: true,
                    number: true
                },
                code: {
                    required: true,
                    number: true
                }
            },
            messages: {
                tel: {
                    required: "手机号码不能为空",
                    number: "非法字符"
                },
                code: {
                    required: "验证码不能为空",
                    number: "非法字符"
                }
            },
            submitHandler: function (form) {
                sendJson(HTTP.POST, "/api/v1/setting/tel", $("#setTelForm").serialize(), false, function (res) {
                    if (res.code === 0) {
                        layer.msg("设置成功", {icon: 1});
                        closeModel(3);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            }
        });

        $("#setSchoolForm").validate({
            rules: {
                school: {
                    required: true,
                    number: true
                },
                studentIdCard: {
                    required: true,
                    number: true
                }
            },
            messages: {
                school: {
                    required: "学校不能为空",
                    disNum: "学校选择错误"
                },
                studentIdCard: {
                    required: "学号不能为空",
                    number: "学号必须为纯数字"
                }
            },
            submitHandler: function (form) {
                sendJson(HTTP.POST, "/api/v1/setting/school", $("#setSchoolForm").serialize() , false, function (res) {
                    if (res.code === 0) {
                        layer.msg("设置学校信息成功", {icon: 1});
                        closeModel(4);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            }
        });

        $("#applyRealNameForm").validate({
            rules: {
                realName: {
                    required: true
                },
                idCard: {
                    required: true
                }
            },
            messages: {
                realName: {
                    required: "姓名不能为空"
                },
                idCard: {
                    required: "身份证号为空"
                }
            },
            submitHandler: function (form) {
                sendJson(HTTP.POST, "/api/v1/setting/real-name", $("#applyRealNameForm").serialize() , false, function (res) {
                    if (res.code === 0) {
                        layer.msg("认证成功！", {icon: 1});
                        closeModel(5);
                    } else {
                        layer.msg(res.msg, {icon: 2});
                    }
                }, function () {
                    layer.msg("未知错误", {icon: 2});
                });
            }
        });
    });

</script>
</body>
</html>